<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Sen Varken ðŸ’œ</title>

  <style>
    :root{
      --glass: rgba(255,255,255,0.06);
      --bd: rgba(255,255,255,0.12);
      --shadow: 0 40px 100px rgba(0,0,0,0.7);
    }
    *{ box-sizing:border-box; }

    body{
      margin:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      overflow-y:auto;
      color:#fff;

      background:
        radial-gradient(circle at 20% 30%, rgba(168,85,247,0.35), transparent 40%),
        radial-gradient(circle at 80% 70%, rgba(139,92,246,0.35), transparent 40%),
        linear-gradient(135deg, #0f0c29, #1e1b4b, #3b0764);

      background-size: 200% 200%;
      animation: purpleFlow 18s ease infinite;
    }

    @keyframes purpleFlow{
      0%{ background-position: 0% 50%; }
      50%{ background-position: 100% 50%; }
      100%{ background-position: 0% 50%; }
    }

    /* Ultra hafif sis */
    body::before{
      content:"";
      position:fixed;
      inset:0;
      background: radial-gradient(circle at 50% 50%, rgba(255,255,255,0.05), transparent 70%);
      pointer-events:none;
    }

    /* Hafif yÄ±ldÄ±z dokusu */
    body::after{
      content:"";
      position:fixed;
      inset:0;
      background-image: radial-gradient(white 1px, transparent 1px);
      background-size: 52px 52px;
      opacity:0.05;
      pointer-events:none;
    }

    .card{
      width:min(780px,92vw);
      background: var(--glass);
      border:1px solid var(--bd);
      border-radius:22px;
      padding:26px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(18px);
      position:relative;
      z-index:2;
    }

    h1{ margin:0 0 10px; font-size:28px; text-align:center; }
    p{ line-height:1.6; margin:10px 0; opacity:.95; }
    .muted{ opacity:.75; }
    .hidden{ display:none; }

    .center{
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:10px;
      text-align:center;
    }

    /* Heart button */
    .heartWrap{ margin-top:6px; }
    .heartBtn{
      width:120px;height:120px;border-radius:999px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.18);
      display:grid;place-items:center;
      cursor:pointer; user-select:none;
      box-shadow:
        0 0 30px rgba(168,85,247,0.6),
        0 0 60px rgba(139,92,246,0.4),
        0 10px 30px rgba(0,0,0,.35) inset;
      transition:transform .08s ease, filter .2s ease;
    }
    .heartBtn:active{ transform:scale(.97); }

    .heart{
      font-size:56px;
      animation: beat 1.1s infinite, glow 2.5s ease-in-out infinite alternate;
    }
    @keyframes beat{
      0%,100%{transform:scale(1)}
      20%{transform:scale(1.06)}
      40%{transform:scale(1)}
      60%{transform:scale(1.08)}
      80%{transform:scale(1)}
    }
    @keyframes glow{
      from{ filter: drop-shadow(0 0 10px #a855f7); }
      to{ filter: drop-shadow(0 0 30px #c084fc); }
    }

    .progress{ margin-top:6px; font-size:14px; opacity:.85; }

    /* Cinematic photo overlay */
    .cinema{
      position:fixed;
      inset:0;
      background:#000;
      display:flex;
      align-items:center;
      justify-content:center;
      opacity:0;
      pointer-events:none;
      transition:opacity .9s ease;
      z-index:5;
    }
    .cinema.show{ opacity:1; pointer-events:auto; }

    .photoFrame{
      width:min(920px,92vw);
      aspect-ratio: 4 / 5;
      max-height:86vh;
      border-radius:18px;
      overflow:hidden;
      position:relative;
      border:1px solid rgba(255,255,255,.10);
      box-shadow:0 20px 80px rgba(0,0,0,.65);
      animation: zoomIn 6s ease both;
    }
    @keyframes zoomIn{ from{transform:scale(1.06)} to{transform:scale(1.00)} }

    .photoFrame img{
      width:100%; height:100%; object-fit:cover;
      filter:contrast(1.05) saturate(1.05);
    }
    .tapToContinue{
      position:absolute; top:14px; right:14px;
      font-size:12px; opacity:.75;
      background:rgba(0,0,0,.35);
      border:1px solid rgba(255,255,255,.12);
      padding:8px 10px;
      border-radius:999px;
    }
    .cinemaText{
      position:absolute; left:0; right:0; bottom:0;
      padding:16px 16px 18px;
      background:linear-gradient(to top, rgba(0,0,0,.75), rgba(0,0,0,0));
    }
    .cinemaText .line1{ font-size:18px; opacity:.92; }
    .cinemaText .line2{ font-size:28px; font-weight:800; margin-top:2px; }

    /* Typed content */
    h2{ margin:18px 0 8px; font-size:18px; }
    .type{ white-space:pre-wrap; }
    .ok{ color:#7CFFB1; font-weight:700; }

    /* Floating hearts */
    .hearts{ position:fixed; inset:0; pointer-events:none; overflow:hidden; z-index:1; }
    .floatHeart{
      position:absolute;
      bottom:-20px;
      opacity:.85;
      animation: floatUp linear forwards;
    }
    @keyframes floatUp{
      to{ transform: translateY(-110vh); opacity:0; }
    }

    .fadeIn{ animation: fadeIn .9s ease both; }
    @keyframes fadeIn{ from{opacity:0; transform:translateY(8px)} to{opacity:1; transform:translateY(0)} }
  </style>
</head>

<body>
  <!-- MÃœZÄ°K -->
  <audio id="bgMusic" src="music.mp3" loop></audio>

  <div class="hearts" id="hearts"></div>

  <!-- STEP 1 -->
  <div class="card" id="step1">
    <div class="center">
      <h1>ðŸ’œ Kalbim senin iÃ§in atÄ±yor</h1>
      <p class="muted">Ritmini hissetmek ister misin?</p>

      <div class="heartWrap">
        <div class="heartBtn" id="heartBtn" aria-label="Kalbe dokun">
          <div class="heart">ðŸ’œ</div>
        </div>
      </div>

      <div class="progress" id="progress">Kalbe 3 kez dokun âœ¨ (0/3)</div>
      <p class="muted" style="font-size:12px;margin-top:2px">Her dokunuÅŸta kalbim biraz daha seninleâ€¦</p>
    </div>
  </div>

  <!-- CINEMATIC -->
  <div class="cinema" id="cinema">
    <div class="photoFrame" id="photoFrame" title="Devam etmek iÃ§in dokun">
      <div class="tapToContinue">Devam etmek iÃ§in dokun</div>
      <img id="photo" src="foto.jpg" alt="Biz" />
      <div class="cinemaText">
        <div class="line1">Bu hikayeâ€¦</div>
        <div class="line2">seninle baÅŸladÄ±.</div>
      </div>
    </div>
  </div>

  <!-- STEP 2 -->
  <div class="card hidden" id="step2">
    <h1 class="fadeIn">âœ¨ HoÅŸ geldin bitanemâ€¦</h1>
    <p class="ok fadeIn">Ä°Ã§imde sana sakladÄ±ÄŸÄ±m her ÅŸey burada ðŸ’œ</p>

    <h2>ðŸ’Œ Sana Notum</h2>
    <div id="typedNote" class="type"></div>

    <h2>ðŸŒ™ Sen Varken</h2>
    <div id="typedPoem" class="type"></div>

    <p class="fadeIn" style="margin-top:18px"><b>â€” Sonsuza kadar seninle. ðŸ’œ</b></p>
  </div>

  <script>
    // âœ… SENÄ°N UZUN NOTUN
    const note = `CanÄ±m bitanem gÃ¼zel sevgilim seni Ã§ok seviyorum iyiki hayatÄ±mdasÄ±n ve her zaman ve her daim yanÄ±mda olmanÄ± istiyorum bana karÅŸÄ± olan bakÄ±ÅŸlarÄ±n sevgin anlayÄ±ÅŸÄ±n bunlarÄ±n hepsi benim iÃ§in Ã§ok kÄ±ymetli ve deÄŸerliki anlatamam ben seni Ã§ok seviyorum yavrum  bazen ufakta olsa hatalar yapÄ±yor olabilirim ama bunlar hiÃ§bir zaman isteyerek olan ÅŸeyler deÄŸil ÅŸu hayatta kesin ve net olarak bildiÄŸim tek ÅŸey seni Ã§ok sevdiÄŸim bitanem seninle her zaman Ã§ok gÃ¼zel oluyor gÃ¼lmek eÄŸlenmek beraber gÃ¼lÃ¼p beraber Ã¼zÃ¼lmek Ã§ok gÃ¼zel senin beni kÄ±zdÄ±rman benim senin kÄ±zdÄ±rmamda aynÄ± ÅŸekilde yanÄ± bu hayat sen var olduÄŸun iÃ§in Ã§ok gÃ¼zel seninle her ÅŸey Ã§ok gÃ¼zel sadece seninle bu kadar gÃ¼lebilmek okadar kÄ±ymetli ve Ã¶zelki anlatamam yavrum.HERZAMAN ve HER DAÄ°M SENÄ° Ã‡OK SEVECEÄžÄ°M GÃœZEL KADIN(GerÃ§ekten gÃ¼zelimsin:) )`;

    // âœ… Ä°LK UZUN ÅžÄ°Ä°R (BENÄ°M YAZDIÄžIM)
    const poem = `Bu hayat bir renkti belki
Ama sen gelince anlam oldu.
GÃ¼lÃ¼ÅŸÃ¼nle sabah doÄŸdu,
BakÄ±ÅŸÄ±nla kalbim doldu.

YanÄ±nda zaman duruyor sanki,
Dertler susuyor bir kÃ¶ÅŸede.
Beraber gÃ¼lmek cennet gibi,
Elin elimdeyken her gecede.

KÄ±zsak da geÃ§iyor rÃ¼zgar gibi,
KÄ±rgÄ±nlÄ±k bile yakÄ±ÅŸÄ±yor bize.
Ã‡Ã¼nkÃ¼ bildiÄŸim tek bir ÅŸey var;
Kalbim sadece seninle gÃ¼ler.

EÄŸer bir gÃ¼n sorarsan bana,
â€œBu dÃ¼nyada en net bildiÄŸin ne?â€
CevabÄ±m deÄŸiÅŸmez bitanem:
Seni seviyorumâ€¦ sonsuz kere.`;

    const heartBtn = document.getElementById("heartBtn");
    const progress = document.getElementById("progress");
    const step1 = document.getElementById("step1");
    const cinema = document.getElementById("cinema");
    const photoFrame = document.getElementById("photoFrame");
    const step2 = document.getElementById("step2");
    const music = document.getElementById("bgMusic");

    let taps = 0;
    let heartTimer = null;

    function vibrate(pattern){
      if (navigator.vibrate) navigator.vibrate(pattern);
    }

    function spawnHearts(){
      const wrap = document.getElementById("hearts");
      const timer = setInterval(()=>{
        const h = document.createElement("div");
        h.className = "floatHeart";
        h.textContent = Math.random() > .5 ? "ðŸ’œ" : "ðŸ’–";
        h.style.left = Math.random()*100 + "vw";
        h.style.fontSize = (14 + Math.random()*18) + "px";
        h.style.animationDuration = (4 + Math.random()*3) + "s";
        wrap.appendChild(h);
        setTimeout(()=>h.remove(), 8000);
      }, 260);
      return timer;
    }

    function typeText(el, text, speed=12){
      el.textContent = "";
      let i = 0;
      const t = setInterval(()=>{
        el.textContent += text[i] || "";
        i++;
        if(i >= text.length) clearInterval(t);
      }, speed);
    }

    // MÃ¼zik sesini yumuÅŸak baÅŸlat
    function fadeInMusic(){
      music.volume = 0;
      music.play().then(()=>{
        let v = 0;
        const iv = setInterval(()=>{
          v += 0.04;
          if(v >= 0.8){ v = 0.8; clearInterval(iv); }
          music.volume = v;
        }, 120);
      }).catch(()=>{});
    }

    heartBtn.addEventListener("click", ()=>{
      taps++;
      vibrate([20, 30, 20]);
      progress.textContent = `Kalbe 3 kez dokun âœ¨ (${Math.min(taps,3)}/3)`;

      if (taps === 1) vibrate([25, 40, 25]);
      if (taps === 2) vibrate([30, 35, 30]);

      if (taps >= 3){
        fadeInMusic(); // âœ… kalp 3 olunca mÃ¼zik baÅŸlar
        step1.classList.add("hidden");
        cinema.classList.add("show");
      }
    });

    photoFrame.addEventListener("click", ()=>{
      vibrate(35);
      cinema.classList.remove("show");
      step2.classList.remove("hidden");
      step2.classList.add("fadeIn");

      heartTimer = spawnHearts();
      typeText(document.getElementById("typedNote"), note, 11);
      setTimeout(()=>typeText(document.getElementById("typedPoem"), poem, 14), 1800);

      setTimeout(()=>{ if(heartTimer) clearInterval(heartTimer); }, 10000);
    });
  </script>
</body>

</html>
